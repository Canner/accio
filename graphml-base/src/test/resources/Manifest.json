{
  "models": [
    {
      "name": "User",
      "refSql": "SELECT * FROM (VALUES (1, 'user1'), (2, 'user2'), (3, 'user3')) User(id, name))",
      "columns": [
        {
          "name": "id",
          "type": "INTEGER"
        },
        {
          "name": "name",
          "type": "VARCHAR"
        }
      ]
    },
    {
      "name": "Book",
      "refSql": "SELECT * FROM (VALUES (1, 'book1', 1, TIMESTAMP '2021-02-01 00:00:01'), (2, 'book2', 2, TIMESTAMP '2021-02-01 00:00:01'), (3, 'book3', 3, TIMESTAMP '2021-02-01 00:00:01')) Book(id, name, authorId, publish_date)",
      "columns": [
        {
          "name": "id",
          "type": "INTEGER",
          "notNull": true
        },
        {
          "name": "name",
          "type": "VARCHAR"
        },
        {
          "name": "author",
          "type": "User",
          "relationship": "BookUser",
          "notNull": true
        },
        {
          "name": "publish_date",
          "type": "TIMESTAMP"
        },
        {
          "name": "publish_year",
          "type": "DATE",
          "expression": "date_trunc('year', publish_date)"
        }
      ]
    }
  ],
  "relationships": [
    {
      "name": "BookUser",
      "joinType": "MANY_TO_ONE",
      "condition": "Book.authorId = User.id",
      "models": [
        "Book",
        "User"
      ]
    }
  ],
  "enums": [
    {
      "name": "STATUS",
      "values": [
        "OK",
        "NOT_OK"
      ]
    }
  ],
  "metrics": [
    {
      "name": "AuthorInfo",
      "baseModel": "Book",
      "dimension": [
        {
          "name": "author",
          "type": "VARCHAR",
          "expression": "author.name"
        }
      ],
      "measure": [
        {
          "name": "book_count",
          "type": "INTEGER",
          "expression": "count(*)"
        }
      ]
    }
  ]
}